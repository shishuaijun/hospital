<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="layui/css/layui.css" media="all">
    <script src="layui/jQuery/jquery-2.2.3.min.js"></script>
    <script src="js/vuejs-2.5.16.js"></script>
</head>
<body>
<div id="app">
    <div>
        <div class="layui-form-item">
            <label class="layui-form-label">住院号</label>
            <div class="layui-input-inline">
                <input type="text" id="adminssionnumber" v-model="base.adminssionnumber" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input">
            </div>
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" id="patientName"v-model="base.patientName" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">门诊号</label>
            <div class="layui-input-inline">
                <input type="text" id="outpaientnumber" v-model="base.outpaientnumber" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input">
            </div>
            <label class="layui-form-label">出生日期</label>
            <div class="layui-input-inline">
                <input type="date" id="birthday"v-model="base.birthday" lay-verify="title" autocomplete="off" placeholder="请输入" class="layui-input">
            </div>
        </div>
    </div>

    <div >
        <div class="layui-input-inline">
            <button  @click="save()" class="layui-btn bd-btn-radius layui-btn-normal">确&nbsp;&nbsp;&nbsp;&nbsp;认</button>
        </div>
    </div>
</div>

</body>
<script>
    new Vue({
        el:"#app",
        data:{
            base:{},
        },
        methods: {
            save(){
              var adminssionnumber = $("#adminssionnumber").val();
              var patientName =$("#patientName").val();
              var outpaientnumber = $("#outpaientnumber").val();
              var birthday =$("#birthday").val();
                if (adminssionnumber =="" && patientName==""&& outpaientnumber=="" && birthday==""){
                    alert("还没填写信息 哦");
                    return;
                }
                $.ajax({
                    url:"customPatient",
                    type:'post',
                    data: this.base,
                    success:function(data){
                        alert("成功");
                        history.go(0);
                    },
                    error:function(data){
                        alert("服务器异常");
                    }
                });
            }
        }
    });

</script>
</html>